# Summary: This file encapsulates the schema part of the fiscal data package.
# Reference: https://github.com/openspending/os-types/blob/master/src/os-types.json.
# Author: Loic Jounot <loic@cyberpunk.bike>

fields:

  # Activity
  # ---------------------------------------------------------------------------

  # Hierarchy:
  #   1. Program (period)
  #   2. Project (program)
  #   3. Sub-project (project)

  - name: funding_period_number
    title: Funding period number
    slug: funding_period_number
    description: First, second or third funding period.
    format: default
    type: string
    osType: activity:generic:program:code
    conceptType: activity

  - name: funding_period
    title: Funding period
    slug: funding_period
    description: One of three official funding period e.g. 2007-2013
    format: default
    type: string
    conceptType: activity
    osType: activity:generic:program:label

  - name: cci_program_code
    title: CCI code
    slug: cci_program_code
    description: CCI codes (e.g. 2014BG05M2OP001) identify operational programs (see codelist).
    format: default
    type: string
    osType: activity:generic:project:code
    conceptType: activity

  - name: cci_program_title
    title: Operational program
    slug: cci_program_title
    description: The operational program matching the CCI code (see codelist)
    format: default
    type: string
    conceptType: activity
    osType: activity:generic:project:label

  - name: project_id
    title: Project ID
    slug: project_id
    description: Unique code of the project (generated if not
    format: default
    type: string
    conceptType: activity
    osType: activity:generic:subproject:code

  - name: project_name
    title: Project name
    slug: project_name
    description: Name or short description of the project
    format: default
    type: string
    conceptType: activity
    osType: activity:generic:subproject:label

  # Recipient
  # ---------------------------------------------------------------------------

  - name: beneficiary_id
    title: Beneficiary ID
    slug: beneficiary_id
    description: The unique ID of the beneficiary
    format: default
    type: string
    conceptType: recipient
    osType: recipient:generic:id

  - name: beneficiary_name
    title: Beneficiary name
    slug: beneficiary_name
    description: Name of the beneficiary (person, company, organisation)
    format: default
    type: string
    conceptType: recipient
    osType: recipient:generic:name

  # Geo-source
  # ---------------------------------------------------------------------------

  - name: beneficiary_postal_code
    title: Postal code
    slug: beneficiary_postal_code
    description: The postal code of the beneficiary
    format: default
    type: string
    conceptType: geo-source
    osType: geo-source:target:code

  - name: beneficiary_address
    title: Address
    slug: beneficiary_address
    description: Full address of the beneficiary to be geocoded
    format: default
    type: string
    conceptType: geo-source
    osType: geo-source:generic:title

  # Administrative classification
  # ---------------------------------------------------------------------------

  # This is a work-around: I would prefer a geographic hierachy if it existed.

  # Hierarchy:
  #   1. Level1 (country)
  #   2. Level2 (region)
  #   3. Level3 (city)

  - name: beneficiary_country_code
    title: Country code
    slug: beneficiary_country_code
    description: Two digit ISO-3166 country code of the beneficiary
    format: default
    type: string
    conceptType: administrative-classification
    osType: administrative-classification:generic:level1:code:full

  - name: beneficiary_country
    title: Country
    slug: beneficiary_country
    description: The country of the beneficiary
    format: default
    type: string
    conceptType: administrative-classification
    osType: administrative-classification:generic:level1:label

  - name: beneficiary_nuts_code
    title: NUTS code
    slug: beneficiary_nuts_code
    description: NUTS code of the beneficiary region
    format: default
    type: string
    conceptType: administrative-classification
    osType: administrative-classification:generic:level2:code:full

  - name: beneficiary_nuts_region
    title: NUTS region
    slug: beneficiary_nuts_region
    description: The region matching the NUTS code
    format: default
    type: string
    conceptType: administrative-classification
    osType: administrative-classification:generic:level2:label

  - name: beneficiary_city
    title: City
    slug: beneficiary_city
    description: The city of the beneficiary
    format: default
    type: string
    conceptType: administrative-classification
    osType: administrative-classification:generic:level3:code:full

  # Fiscal attribute
  # ---------------------------------------------------------------------------

  - name: fund_acronym
    title: Fund
    slug: fund_acronym
    description: Acronym of the fund (see codelist)
    format: default
    type: string
    conceptType: fin-source
    osType: fin-source:generic:code

  - name: fund_name
    title: Fund name
    slug: fund_name
    description: Full name of the fund (see codelist)
    format: default
    type: string
    conceptType: fin-source
    osType: fin-source:generic:label

  # Functional classifications
  # ---------------------------------------------------------------------------

  - name: theme_code
    title: Thematic objective code
    slug: theme_code
    description: Code of the thematic objective (see codelist)
    format: default
    type: string
    conceptType: functional-classification
    osType: functional-classification:generic:code

  - name: theme_name
    title: Thematic objective
    slug: theme_name
    description: Display name of the thematic objective (see codelist)
    format: default
    type: string
    conceptType: functional-classification
    osType: functional-classification:generic:label

  - name: priority_number
    title: Priority number
    slug: priority_number
    description: Priority number of the grant agreement (see codelist)
    format: default
    type: string
    conceptType: functional-classification
    osType: functional-classification:generic:code

  - name: priority_label
    title: Priority
    slug: priority_label
    description: Description of the priority number of the grant agreement (see codelist)
    format: default
    type: string
    conceptType: expenditure-type
    osType: expenditure-type:code

  # Dates
  # ---------------------------------------------------------------------------

  - name: starting_date
    title: Starting date of the project
    slug: starting_date
    description: Starting date of the project
    format: default
    type: date
    conceptType: date
    osType: date:generic

  - name: completion_date
    title: Completion date of the project
    slug: completion_date
    description: Completion date of the project
    format: default
    type: date
    conceptType: date
    osType: date:generic

  - name: approval_date
    title: Approval date of the project
    slug: approval_date
    description: Date that the project is approved
    format: default
    type: date
    conceptType: date
    osType: date:generic

  - name: first_payment_date
    title: Date of the first payment
    slug: first_payment_date
    description: The data at which the first payment was made (pre-financing)
    format: default
    type: date
    conceptType: date
    osType: date:generic

  - name: final_payment_date
    title: Date of the final payment
    slug: final_payment_date
    description: The date on which the final payment was made
    format: default
    type: date
    conceptType: date
    osType: date:generic

  # Measures
  # ---------------------------------------------------------------------------

  - name: total_amount
    title: Total cost of the project
    slug: total_amount
    description: Total cost of project
    format: default
    type: number
    conceptType: value
    osType: value
    decimalChar: .

  - name: total_amount_applied
    title: Total amount the project applied for
    slug: total_amount_applied
    description: Total amount that project applied for
    format: default
    type: number
    conceptType: value
    osType: value
    decimalChar: .

  - name: total_amount_eligible
    title: Total eligible expenditure
    slug: total_amount_eligible
    description: Total eligible expenditure
    type: number
    conceptType: value
    format: default
    osType: value
    decimalChar: .

  - name: member_state_amount
    title: Amount of national and regional funding
    slug: member_state_amount
    description: Amount that is awarded from national funds
    type: number
    format: default
    conceptType: value
    osType: value
    decimalChar: .

  - name: third_party_amount
    title: Third party funding
    slug: third_party_amount
    description: The total amount that is additional to the action over third party funding
    type: number
    format: default
    conceptType: value
    osType: value
    decimalChar: .

  - name: eu_cofinancing_amount
    title: EU co-financing
    slug: eu_cofinancing_amount
    description: The amount of co-financing from the EU
    type: number
    conceptType: value
    format: default
    osType: value
    decimalChar: .

  - name: european_investment_bank_amount
    title: European Investment Bank financing
    slug: european_investment_bank_amount
    description: The amount of co-financing received from the European Investment Bank (EIB)
    type: number
    format: default
    conceptType: value
    osType: value
    decimalChar: .

  # Additionnal details
  # ---------------------------------------------------------------------------

  - name: beneficiary_url
    title: Beneficiary website
    slug: beneficiary_url
    description: URL of the beneficiary (or project)
    format: default
    type: string
    conceptType: unknown
    osType: unknown:string

  - name: project_description
    title: Project description
    slug: project_description
    description: A paragraph description of the project
    format: default
    type: string
    conceptType: unknown
    osType: unknown:string
